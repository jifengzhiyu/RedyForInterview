# 8_SpringCloud

## 什么是微服务？

微服务是⼀种架构⻛格。
微服务把⼀个应⽤拆分为⼀组⼩型服务。
微服务每个服务运⾏在⾃⼰的进程内，也就是可独⽴部署和升级。
微服务的服务之间使⽤轻量级HTTP交互，⼀般使⽤Json交换数据。 服务围绕业务功能拆分。
可以由全⾃动部署机制独⽴部署。
去中⼼化，服务⾃治。服务可以使⽤不同的语⾔、不同的存储技术 。

## 微服务的优缺点

优点：

服务简单，便于学习和上手，相对容易维护
独立部署，灵活扩展
技术栈丰富，不同模块之间可以使用不同的技术
缺点

运维成本太高----需要过多的服务器，颗粒细化，维护成本高
接口可能不匹配----session一致性需要去保持
代码可能重复
架构复杂度提高—前后端分离，Nginx配置以及多服务的部署，运维复杂性增加。

## 微服务的重要模块

注册中⼼：服务提供者和消费者，能够从注册中⼼注册和得到服务信息。
配置中⼼：在微服务架构中设计服务较多需要对于配置⽂件统⼀管理。
服务链路追踪：对于服务之间的负载调⽤，要能通过链路追踪，得到具体参与者，调⽤链路出现问 题能够快速定位。
负载均衡：服务调⽤服务会采⽤⼀定的负载均衡策略，来保证服务的⾼可⽤。
服务容错：通过熔断、降级服务容错策略，对系统进⾏有效的保护，降级是在服务或依赖的服务异 常时，返回保底数据，熔断是指依赖服务多次失效，则熔断器打开，不再尝试调⽤，直接返回降级 信息。熔断后，定期探测依赖服务可⽤性，若恢复则恢复调⽤。
服务⽹关：⽤户请求过载时进⾏限流、排队、过载保护、⿊⽩名单、异常⽤户过滤拦截等都可以通 过服务⽹关实现。
服务发布与回滚：蓝绿部署、灰度、AB Test等发布策略，可快速回滚应⽤。
服务动态伸缩、容器化：根据服务负载情况，可快速⼿动或⾃动进⾏节点增加和减少。
